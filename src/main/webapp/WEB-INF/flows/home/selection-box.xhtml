<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    
<div class="sidebar-title">
    <span id="selection-box-title" class="fa fa-list-alt" >&nbsp;&nbsp;#{msg['label_selection_box']}&nbsp;&nbsp;</span>
</div>

<h:form id="selection-box-form">
    <div id="selection-box-context-menu" style="display:none; z-index:5000; position:absolute;">
        <p:menu>
            <p:menuitem id="relate" styleClass="fa" onclick="confirmRelatingSelectedFragments()" icon="fa fa-link" value="#{msg['label_relate_all']}"/>
            <p:menuitem id="trash" styleClass="fa" onclick="confirmTrashingSelectedFragments()" icon="fa fa-trash" value="#{msg['label_trash_all']}"/>
            <p:menuitem id="unselect" styleClass="fa" onclick="confirmUnselectingSelectedFragments()" icon="fa fa-minus-circle" value="#{msg['label_unselect_all']}"/>
            <p:menuitem id="select_unselect" styleClass="fa" onclick="selectOrUnselectFragment()" icon="fa fa-check" value="#{msg['label_select_unselect']}"/>
        </p:menu>
    </div>
    
    <p:panel id="selection-box-panel" toggleable="true" widgetVar="selectionBoxPanel">
        <div title="#{msg['rclick_for_menu']}">
            <c:forEach var="frgId" items="#{fragmentSelectionBean.fragmentIds}" varStatus="loop">
                <c:set var="frgTitle" value="#{fragmentSelectionBean.fragmentTitles[loop.index]}" />
                <span class="small-fragment-box each-selected-frg notxtslct" _fid="#{frgId}" _ft="#{frgTitle}" title="#{msg['rclick_for_menu']}">
                    <a class="-cvz-frgm" href="fragment/#{frgId}">\##{frgId}</a>
                    &nbsp;
                    <h:outputText value="#{frgTitle}" />
                </span>
                <br/>
            </c:forEach>
        </div>
    </p:panel>
</h:form>

</ui:composition>