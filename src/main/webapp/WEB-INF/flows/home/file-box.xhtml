<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    
<script>
//<![CDATA[
// $(document).ready(function() {
// }); // end of $(document).ready()
//]]>
</script>

<div>
    <span id="file-box-title" class="fa fa-file" >&nbsp;&nbsp;#{msg['label_filebox']}</span>
</div>

<h:form id="file-box-form" enctype="multipart/form-data">
	<p:panel id="file-box-panel" >
		<!-- [TODO] externalize any other configurable parameters like this file size limit value -->
		<p:fileUpload value="#{fileUploadBean.file}" mode="simple" skinSimple="true" label="#{msg['label_select_file']}" sizeLimit="#{cfg['file.upload.size.limit']}" style="width:200px"/>
		<br/>
		<br/>
		<!-- [TODO] add style to make it look like a button -->
		<p:commandLink action="upload-file" ajax="false">
			<span class="fa fa-check button-link ui-button">UPLOAD</span>
		</p:commandLink>
		
		<div id="file-path-tree">
            <p:tree value="#{fileListBean.filePathTree.root}" var="filePathBean" style="width:100%">
                <p:treeNode>
                    <span>
                    	<h:outputText value="#{filePathBean}"></h:outputText>
                    </span>
                </p:treeNode>
            </p:tree>
        </div>
	</p:panel>
</h:form>

</ui:composition>