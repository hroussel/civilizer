<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<script>
$(document).ready(function() {
	var currentTagGroupTabIndex = "0";

    $tab = $( "#tag-group-tab-view" ).tabs({
         activate : function (e, ui) {
            currentTagGroupTabIndex = ui.newTab.index().toString();
            sessionStorage.setItem('tag-group-tab-index', currentTagGroupTabIndex);
         }
    });

    if (sessionStorage.getItem('tag-group-tab-index')) {
        currentTagGroupTabIndex = sessionStorage.getItem('tag-group-tab-index');
        $tab.tabs('option', 'active', currentTagGroupTabIndex);
    }
}); // end of $(document).ready()
</script> 

<div>
	<span id="tag-palette-title" class="fa fa-tags" >&nbsp;&nbsp;#{msg['label_tag_palette']}</span>
</div>

<h:form>
	<div id="tag-group-tab-view">
		<ul>
			<li>
				<a href="#tag-group-linear" title="#{msg['label_tag_group_view_linear']}" >
				    <span class="fa fa-list fa-2x" ></span>
				</a>
			</li>
			<li>
				<a href="#tag-group-tree" title="#{msg['label_tag_group_view_tree']}" >
				    <span class="fa fa-tree fa-2x" ></span>
				</a>
			</li>
		</ul>
		
		<div id="tag-group-linear">
			<c:forEach var="tag" items="#{tagListBean.tags}">
				<ui:include src="each-tag.xhtml" />
			</c:forEach>
		</div>
		<div id="tag-group-tree">
			<p:tree value="#{tagListBean.tagTree.root}" var="tag">
				<p:treeNode>
					<ui:include src="each-tag.xhtml" />
				</p:treeNode>
			</p:tree>
		</div>
	</div>
</h:form>

</ui:composition>